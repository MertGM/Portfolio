var canvas=document.getElementById('canvas'),particles,intervalIds,width,height,ctx=canvas.getContext('2d');function Vec2(e,t){this.x=e,this.y=t}particles=[],intervalIds=[],width=canvas.width,height=canvas.height;function DrawParticle(t){ctx.fillStyle='rgb(204, 204, 255)';for(var e=0;e<t;e++)particles.push(new Vec2(Math.floor(Math.random()*width),Math.floor(Math.random()*height))),ctx.fillRect(particles[e].x,particles[e].y,1,1)}function AnimateParticle(o){var t=!1,e=204,n=204,s=255;function i(){t?(e++,n++,s++):(e--,n--,s--),ctx.fillStyle=`rgb(${e}, ${n}, ${s})`,ctx.fillRect(o.x,o.y,1,1),e==0?t=!0:e==204?t=!1:document.visibilityState=='visible'&&requestAnimationFrame(i)}setInterval(i,Math.floor(Math.random()*1e4+1e3))}function FadeOut(t,n,u,d,l){var c=0,h=0,r=51,i=0,o=0,s=0,e=0;function a(){e<1?(i=Math.floor((1-e)*u+c*e),o=Math.floor((1-e)*d+h*e),s=Math.floor((1-e)*l+r*e),ctx.fillStyle=`rgb(${i}, ${o}, ${s})`,ctx.fillRect(t,n,1,1),e+=.1,document.visibilityState=='visible'&&requestAnimationFrame(a)):ctx.clearRect(t,n,1,1)}requestAnimationFrame(a)}function MeteorShower(){var a=Math.floor(Math.random()*width),r=Math.floor(Math.random()*height),l=Math.floor(Math.random()*a-10),d=Math.floor(Math.random()*r+10),e=0,s=0,t=0,n=Math.floor(Math.random()*200),o=255,i=255;function c(){e<1&&(s=Math.round((1-e)*a+l*e),t=Math.round((1-e)*r+d*e),ctx.fillStyle=`rgb(${n}, ${o}, ${i})`,ctx.fillRect(s,t,1,1),n++,e+=.05,FadeOut(s,t,n,o,i),document.visibilityState=='visible'&&requestAnimationFrame(c))}requestAnimationFrame(c)}export function TwinkleStars(t){canvas.setAttribute('class','visible'),DrawParticle(t);for(var e=0;e<particles.length;e++)AnimateParticle(particles[e]);setTimeout(MeteorShower,Math.floor(Math.random()*1e3+2e3)),setInterval(MeteorShower,Math.floor(Math.random()*1e4+1e4))}
