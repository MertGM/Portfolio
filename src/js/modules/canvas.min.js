var canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d'),particles,intervalIds,width,height;function Vec2(a,b){this.x=a,this.y=b}particles=[],intervalIds=[],width=canvas.width,height=canvas.height;function DrawParticle(b){ctx.fillStyle='rgb(204, 204, 255)';for(var a=0;a<b;a++)particles.push(new Vec2(Math.floor(Math.random()*width),Math.floor(Math.random()*height))),ctx.fillRect(particles[a].x,particles[a].y,1,1)}function AnimateParticle(e){var b=!1,a=204,c=204,d=255;function f(){b?(a++,c++,d++):(a--,c--,d--),ctx.fillStyle=`rgb(${a}, ${c}, ${d})`,ctx.fillRect(e.x,e.y,1,1),a==0?b=!0:a==204?b=!1:document.visibilityState=='visible'&&requestAnimationFrame(f)}setInterval(f,Math.floor(Math.random()*1e4+1e3))}function FadeOut(b,c,l,k,j){var i=0,m=0,h=51,f=0,e=0,d=0,a=0;function g(){a<1?(f=Math.floor((1-a)*l+i*a),e=Math.floor((1-a)*k+m*a),d=Math.floor((1-a)*j+h*a),ctx.fillStyle=`rgb(${f}, ${e}, ${d})`,ctx.fillRect(b,c,1,1),a+=.1,document.visibilityState=='visible'&&requestAnimationFrame(g)):ctx.clearRect(b,c,1,1)}requestAnimationFrame(g)}function MeteorShower(){var g=Math.floor(Math.random()*width),h=Math.floor(Math.random()*height),j=Math.floor(Math.random()*g-10),k=Math.floor(Math.random()*h+10),a=0,d=0,b=0,c=Math.floor(Math.random()*200),e=255,f=255;function i(){a<1&&(d=Math.round((1-a)*g+j*a),b=Math.round((1-a)*h+k*a),ctx.fillStyle=`rgb(${c}, ${e}, ${f})`,ctx.fillRect(d,b,1,1),c++,a+=.05,FadeOut(d,b,c,e,f),document.visibilityState=='visible'&&requestAnimationFrame(i))}requestAnimationFrame(i)}export function TwinkleStars(b){canvas.setAttribute('class','visible'),DrawParticle(b);for(var a=0;a<particles.length;a++)AnimateParticle(particles[a]);setTimeout(MeteorShower,Math.floor(Math.random()*1e3+2e3)),setInterval(MeteorShower,Math.floor(Math.random()*1e4+1e4))}
