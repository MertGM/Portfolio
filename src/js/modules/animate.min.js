var body=document.querySelector('body'),optionsMenu=document.querySelector('.options-menu'),optionsMenuWrapper=document.querySelector('.options-menu-wrapper'),options=document.querySelector('.options'),optionIcons=document.getElementById('options-icons'),optionsButton=document.getElementById('inner-circle'),optionsOuterButton=document.getElementById('outer-circle'),moon=document.querySelector('.moon'),sun=document.querySelector('.sun'),buttonScroll=document.querySelector('.inner-button'),buttonScrollOuter=document.querySelector('.outer-button'),sunShadow=document.getElementById('sun-shadow'),moonShadow=document.getElementById('moon-shadow'),nav=document.querySelector('.nav'),emailModal=document.getElementById('email-confirmation'),optionsMenuAnimation=optionsMenu.animate([{transform:'scale(0, 0)'}],{fill:'forwards',easing:'ease-in-out',duration:1200}),optionsAnimation,optionIconsAnimation,spinnerBackground,colorBgPrimary,spinnerBackgroundAnimation,optionsCollapsed,autoScroll,buttonAnimation,buttonFillAnimation,optionsFill,color1,color2,optionsButtonAnimation,optionsOuterButtonAnimation,theme,moonAnimation,sunAnimation,navColor,fontPrimary,navAnims,navLeftOffset,i,aside,emailModalAnimation,navFlags;optionsMenuAnimation.pause(),optionsAnimation=options.animate([{opacity:0}],{fill:'forwards',easing:'ease-in-out',duration:1e3}),optionsAnimation.pause(),optionIconsAnimation=optionIcons.animate([{opacity:0}],{fill:'forwards',easing:'ease-in-out',duration:1e3}),optionIconsAnimation.pause(),spinnerBackground=document.querySelector('.spinner-background'),colorBgPrimary=getComputedStyle(document.body).getPropertyValue('--bg-primary'),spinnerBackgroundAnimation=spinnerBackground.animate([{opacity:0}],{fill:'forwards',easing:'steps(2, end)',duration:1e3}),spinnerBackgroundAnimation.pause(),optionsCollapsed=localStorage.getItem('options'),optionsCollapsed==null&&(optionsCollapsed=!1),autoScroll=localStorage.getItem('auto scroll'),autoScroll==null&&(autoScroll='true',localStorage.setItem('auto scroll',autoScroll)),buttonAnimation=buttonScroll.animate([{transform:'translateX(-14px)'}],{fill:'forwards',easing:'ease-in-out',duration:600}),buttonAnimation.pause(),buttonFillAnimation=buttonScrollOuter.animate([{fill:'#0f5'},{fill:'#f25'}],{fill:'forwards',easing:'ease-in-out',duration:500}),buttonFillAnimation.pause();function InitButtonAnimation(){optionsButton=document.getElementById('inner-circle'),optionsOuterButton=document.getElementById('outer-circle'),optionsFill=getComputedStyle(optionsButton).getPropertyValue('--btn-primary'),document.querySelector('body').className=='light'?(color1='#f91',color2='#fb1'):(color1='#9af',color2='#aef'),optionsButtonAnimation=optionsButton.animate([{fill:optionsFill},{fill:color1},{fill:color2},{fill:optionsFill}],{duration:500}),optionsButtonAnimation.pause(),optionsOuterButtonAnimation=optionsOuterButton.animate([{stroke:optionsFill},{stroke:color1},{stroke:color2},{stroke:optionsFill}],{duration:500}),optionsOuterButtonAnimation.pause()}theme=localStorage.getItem('theme'),theme==null&&(theme='moon'),moonAnimation=moon.animate([{transform:'scale(0,0)'}],{fill:'forwards',easing:'ease-in-out',duration:500}),moonAnimation.pause(),sunAnimation=sun.animate([{transform:'scale(0,0)'}],{fill:'forwards',easing:'ease-in-out',duration:500}),sunAnimation.pause(),navColor=getComputedStyle(nav).getPropertyValue('--li-hover'),fontPrimary=getComputedStyle(document.body).getPropertyValue('--font-primary'),navAnims=[],navLeftOffset=0;for(i=0;i<nav.children.length;i++)navAnims.push(nav.children[i].animate([{width:'0.1em'},{color:'rgba(255, 0, 100, 0)'},{width:'3em'},{color:fontPrimary}],{fill:'both',easing:'ease-in-out',duration:500})),navAnims[i].pause();aside=document.querySelector('aside');function ResizeNav(e,d){var a,b;if(d>e){a=parseInt(getComputedStyle(aside).left.split('px')[0]),b=a;function c(){d>e?(aside.style.left=--b+'px',d=nav.getBoundingClientRect().right,navLeftOffset=a-b,requestAnimationFrame(c)):navFlags=3}requestAnimationFrame(c)}else if(navLeftOffset>0){a=parseInt(getComputedStyle(aside).left.split('px')[0]),b=a;function c(){navLeftOffset>0?(aside.style.left=++b+'px',navLeftOffset--,requestAnimationFrame(c)):navLeftOffset==0&&(aside.removeAttribute('style'),navFlags=0)}requestAnimationFrame(c)}}function ThemeSwitch(){theme=='sun'?(theme='moon',sunAnimation.playbackRate=1,moonAnimation.playbackRate=-1,sunAnimation.play(),moonAnimation.play(),body.setAttribute('class',''),sunShadow.setAttribute('class','hidden'),moonShadow.setAttribute('class','visible')):(theme='sun',sunAnimation.playbackRate=-1,moonAnimation.playbackRate=1,moonAnimation.play(),sunAnimation.play(),body.setAttribute('class','light'),moonShadow.setAttribute('class','hidden'),sunShadow.setAttribute('class','visible')),InitButtonAnimation(),localStorage.setItem('theme',theme)}emailModalAnimation=emailModal.animate([{bottom:'50px'}],{fill:'forwards',easing:'ease-in-out',duration:500}),emailModalAnimation.pause();export function Options(a){optionsCollapsed=='true'?(optionsCollapsed='false',optionsMenuAnimation.playbackRate=-1,optionsAnimation.playbackRate=-1,optionIconsAnimation.playbackRate=-1):(optionsMenuAnimation.playbackRate=1,optionsAnimation.playbackRate=1,optionIconsAnimation.playbackRate=1,optionsCollapsed='true'),InitButtonAnimation(),optionsAnimation.play(),optionsMenuAnimation.play(),optionIconsAnimation.play(),a.currentTarget.id=='outer-circle'?optionsOuterButtonAnimation.play():optionsButtonAnimation.play(),localStorage.setItem('options',optionsCollapsed)}function SetAutoScroll(){autoScroll=='true'?(buttonAnimation.playbackRate=1,buttonAnimation.play(),buttonFillAnimation.playbackRate=1,buttonFillAnimation.play(),autoScroll='false'):(buttonAnimation.playbackRate=-1,buttonAnimation.play(),buttonFillAnimation.playbackRate=-1,buttonFillAnimation.play(),autoScroll='true'),localStorage.setItem('auto scroll',autoScroll)}function Wait(a){return new Promise(function(b){return setTimeout(b,a)})}navFlags=0;function NavAnimation(b){if(b.target.tagName=='LI')if(navFlags==1)navFlags=3;else if(navFlags==0){navFlags=2;for(var a=0;a<navAnims.length;a++)navAnims[a].playbackRate=1,navAnims[a].play();navAnims[navAnims.length-1].finished.then(function(){ResizeNav(document.body.clientWidth,nav.getBoundingClientRect().right)})}else b.type=='mouseout'&&navFlags==3&&(navFlags=1,Wait(1e3).then(function(){if(navFlags==1){navFlags=2;for(var a=0;a<navAnims.length;a++)navAnims[a].playbackRate=-1,navAnims[a].play();navAnims[navAnims.length-1].finished.then(function(){ResizeNav(0,0)})}}))}export function Animate(){InitButtonAnimation(),buttonScroll.addEventListener('mousedown',SetAutoScroll,!1),buttonScrollOuter.addEventListener('mousedown',SetAutoScroll,!1),optionsButton.addEventListener('mousedown',Options,!1),optionsOuterButton.addEventListener('mousedown',Options,!1),moon.addEventListener('mousedown',ThemeSwitch,!1),sun.addEventListener('mousedown',ThemeSwitch,!1),nav.addEventListener('mouseover',NavAnimation,!1),nav.addEventListener('mouseout',NavAnimation,!1)}export function PreloadAnimations(){optionsCollapsed=='true'?(optionsMenuAnimation.playbackRate=20,optionsAnimation.playbackRate=20,optionsAnimation.play(),optionsMenuAnimation.play(),optionsMenuAnimation.finished.then(function(){spinnerBackgroundAnimation.play(),spinnerBackgroundAnimation.finished.then(function(){spinnerBackground.id='hidden'})})):(spinnerBackgroundAnimation.play(),spinnerBackgroundAnimation.finished.then(function(){spinnerBackground.id='hidden'})),theme=='sun'?(moonAnimation.playbackRate=20,moonAnimation.play(),body.setAttribute('class','light'),moonShadow.setAttribute('class','hidden'),sunShadow.setAttribute('class','visible')):theme=='moon'&&(sunAnimation.playbackRate=20,sunAnimation.play(),sunShadow.setAttribute('class','hidden'),moonShadow.setAttribute('class','visible')),autoScroll=='false'&&(buttonAnimation.playbackRate=20,buttonAnimation.play(),buttonFillAnimation.playbackRate=20,buttonFillAnimation.play())}export function ConfirmEmailAnimation(){return new Promise(function(a){emailModalAnimation.playState=='paused'&&(emailModalAnimation.playbackRate=1,emailModalAnimation.play(),emailModalAnimation.finished.then(function(){Wait(6e3).then(function(){emailModalAnimation.playbackRate=-1,emailModalAnimation.play(),emailModalAnimation.finished.then(function(){return emailModalAnimation.pause(),a()})})}))})}
