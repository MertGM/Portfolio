var preferences={auto_scroll:!0},navNodes,scroll_state={disabled:0,enabled:1,scrolling:2},scroll_trigger={none:0,scroll:1,click:2},scroll={prevScrollY:document.documentElement.scrollTop,currentScrollY:0,state:scroll_state.enabled,trigger:scroll_trigger.none,node:Array.from(document.querySelectorAll(".container100")),index:0,visibleChange:!1};localStorage.getItem("auto scroll")=="false"&&(preferences.auto_scroll=!1,scroll.state=scroll_state.disabled),navNodes={id:{}};function SetCurrentIndex(){if(scroll.node.y!=void 0)for(var e=0;e<scroll.node.y.length;e++)if(scroll.node.y[e]>=scroll.prevScrollY){document.getElementById(navNodes.id.array[e]).style.background="rgba(255, 20, 0, 0.5)",scroll.index=e;return}}function ScrollToNextNode(){scroll.currentScrollY=document.documentElement.scrollTop,scroll.currentScrollY>scroll.prevScrollY&&scroll.index<scroll.node.y.length-1?Scrolldown():scroll.currentScrollY<scroll.prevScrollY&&Scrollup()}function EaseOut(e,n,s,o){var t=(1-e)**2*n+2*(1-e)*e*s+e**2*o;return document.documentElement.scroll(0,t),t}function Scrolldown(n=1){scroll.state=scroll_state.scrolling,scroll.prevScrollY=scroll.currentScrollY;var o,s=0,t=scroll.node.y[scroll.index+n],e=-1,a=.001;function i(r){if(e==-1&&(e=r),o=r-e,scroll.currentScrollY>=t){scroll.prevScrollY=scroll.currentScrollY,scroll.state=scroll_state.enabled,scroll.trigger=scroll_trigger.none,scroll.index+=n;return}s+=a*o,scroll.currentScrollY=EaseOut(s,scroll.prevScrollY,t,t+2),e=r,requestAnimationFrame(i)}requestAnimationFrame(i)}function Scrollup(n=-1){scroll.state=scroll_state.scrolling,scroll.prevScrollY=scroll.currentScrollY;var o,s=0,t=scroll.node.y[scroll.index+n],e=-1,a=.001;scroll.prevScrollY>scroll.node.y[scroll.index]&&scroll.index++;function i(r){if(e==-1&&(e=r),o=r-e,scroll.currentScrollY<=t){scroll.prevScrollY=scroll.currentScrollY,scroll.state=scroll_state.enabled,scroll.trigger=scroll_trigger.none,scroll.index+=n;return}s+=a*o,scroll.currentScrollY=EaseOut(s,scroll.prevScrollY,t,t-2),e=r,requestAnimationFrame(i)}requestAnimationFrame(i)}function Sum(n,s,o){for(var t=0,e=s;e<o;e++)t+=n[e].clientHeight;return t}function CurrentNode(){var e=60;window.scrollY>=scroll.node.y[scroll.index+1]-e?(document.getElementById(navNodes.id.array[scroll.index]).style.background="rgba(255, 0, 100, 0.5)",document.getElementById(navNodes.id.array[scroll.index+1]).style.background="rgba(255, 20, 0, 0.5)",preferences.auto_scroll==!1&&scroll.index++):window.scrollY<=scroll.node.y[scroll.index]-e&&(document.getElementById(navNodes.id.array[scroll.index]).style.background="rgba(255, 0, 100, 0.5)",document.getElementById(navNodes.id.array[scroll.index-1]).style.background="rgba(255, 20, 0, 0.5)",preferences.auto_scroll==!1&&scroll.index--)}function EventHandler(e){if(e.type=="resize"){for(var n,i,o=document.querySelectorAll(".container100"),s=document.getElementById("links"),t=0;t<o.length;t++)scroll.node.y[t]=Sum(o,0,t);scroll.node.y[1]<=400?s.style.display="none":s.getAttribute("style")!=null&&s.removeAttribute("style")}else if(e.type=="scroll"&&e.target==document)scroll.state==scroll_state.enabled&&preferences.auto_scroll==!0&&(scroll.trigger=scroll_trigger.scroll,ScrollToNextNode()),scroll.trigger!=scroll_trigger.click&&CurrentNode();else if(e.type=="click"){if(e.target.id=="auto-inner"||e.target.id=="auto-outer"||e.target.id=="options-icons")i=function(){return localStorage.getItem("auto scroll")=="true"?preferences.auto_scroll=!0:preferences.auto_scroll=!1,!0}(),i&&(preferences.auto_scroll?(scroll.state=scroll_state.enabled,scroll.prevScrollY=window.scrollY):scroll.state=scroll_state.disabled);else if(scroll.state!=scroll_state.scrolling&&e.target.id in navNodes.id){scroll.currentScrollY=document.documentElement.scrollTop,n=0;for(t=0;t<navNodes.id.array.length;t++)if(e.target.id==navNodes.id.array[t]){n=t-scroll.index;break}n<0?(document.getElementById(navNodes.id.array[scroll.index]).style.background="rgba(255, 0, 100, 0.5)",document.getElementById(navNodes.id.array[scroll.index+n]).style.background="rgba(255, 20, 0, 0.5)",scroll.trigger=scroll_trigger.click,scroll.state=scroll_state.enabled,Scrollup(n)):n>0&&(document.getElementById(navNodes.id.array[scroll.index]).style.background="rgba(255, 0, 100, 0.5)",document.getElementById(navNodes.id.array[scroll.index+n]).style.background="rgba(255, 20, 0, 0.5)",scroll.trigger=scroll_trigger.click,scroll.state=scroll_state.enabled,Scrolldown(n))}}else e.type=="focusin"&&e.target.tagName!="BUTTON"?(scroll.state=scroll_state.disabled,scroll.trigger=scroll_trigger.none):e.type=="focusout"&&e.target.tagName!="BUTTON"&&preferences.auto_scroll&&(scroll.state=scroll_state.enabled)}export function AutoScroll(){setTimeout(function(){SetCurrentIndex(),CurrentNode(),window.addEventListener("scroll",EventHandler,!1),window.addEventListener("resize",EventHandler,!1)},100)}export function Listen(e,o=!1){if(e==null){for(var t,s=[],i=0,n=0;n<scroll.node.length;n++)s.push(Sum(scroll.node,i,n));scroll.node.y=s}else if(o==!0){for(t=0;t<e.children.length;t++)navNodes.id[e.children[t].id]=e.children[t].id;navNodes.id.array=Object.keys(navNodes.id),e.addEventListener("click",EventHandler,!1)}else e.tagName=="FORM"?(e.addEventListener("focusin",EventHandler,!1),e.addEventListener("focusout",EventHandler,!1)):e.addEventListener("click",EventHandler,!1)}
