var preferences={auto_scroll:!0},scroll_state={disabled:0,enabled:1,scrolling:2},scroll_trigger={none:0,scroll:1,click:2},scroll={prevScrollY:document.documentElement.scrollTop,currentScrollY:0,state:scroll_state.enabled,trigger:scroll_trigger.none,node:Array.from(document.body.children),index:0,visibleChange:!1},navNodes;localStorage.getItem('auto scroll')=='false'&&(preferences.auto_scroll=!1,scroll.state=scroll_state.disabled),navNodes={id:{}};function SetCurrentIndex(){if(scroll.node.y!=void 0)for(var a=0;a<scroll.node.y.length;a++)if(scroll.node.y[a]>=scroll.prevScrollY){document.getElementById(navNodes.id.array[a]).style.background='rgba(255, 20, 0, 0.5)',scroll.index=a;return}}function ScrollToNextNode(){scroll.currentScrollY=document.documentElement.scrollTop,scroll.currentScrollY>scroll.prevScrollY&&scroll.index<scroll.node.y.length-1?Scrolldown():scroll.currentScrollY<scroll.prevScrollY&&Scrollup()}function Easein(a,c,d,e){var b=(1-a)**2*c+2*(1-a)*a*d+a**2*e;return document.documentElement.scroll(0,b),b}function Scrolldown(c=1){var b=0,a=0;(function d(){if(scroll.state==scroll_state.enabled&&(scroll.state=scroll_state.scrolling,scroll.prevScrollY=scroll.currentScrollY,a=scroll.node.y[scroll.index+c]),scroll.currentScrollY>=a){b=0,scroll.prevScrollY=scroll.currentScrollY,scroll.state=scroll_state.enabled,scroll.trigger=scroll_trigger.none,scroll.index+=c;return}scroll.currentScrollY=Easein(b,scroll.prevScrollY,a,a),b+=.02,requestAnimationFrame(d)})()}function Scrollup(c=-1){var b=0,a=0;(function d(){if(scroll.state==scroll_state.enabled&&(scroll.prevScrollY>scroll.node.y[scroll.index]&&scroll.index++,scroll.state=scroll_state.scrolling,scroll.prevScrollY=scroll.currentScrollY,a=scroll.node.y[scroll.index+c]),scroll.currentScrollY<=a){b=0,scroll.prevScrollY=scroll.currentScrollY,scroll.state=scroll_state.enabled,scroll.trigger=scroll_trigger.none,scroll.index+=c;return}scroll.currentScrollY=Easein(b,scroll.prevScrollY,a,a-2),b+=.02,requestAnimationFrame(d)})()}function Sum(c,d,e){for(var b=0,a=d;a<e;a++)b+=c[a].clientHeight;return b}function CurrentNode(){var a=60;window.scrollY>=scroll.node.y[scroll.index+1]-a?(document.getElementById(navNodes.id.array[scroll.index]).style.background='rgba(255, 0, 100, 0.5)',document.getElementById(navNodes.id.array[scroll.index+1]).style.background='rgba(255, 20, 0, 0.5)',preferences.auto_scroll==!1&&scroll.index++):window.scrollY<=scroll.node.y[scroll.index]-a&&(document.getElementById(navNodes.id.array[scroll.index]).style.background='rgba(255, 0, 100, 0.5)',document.getElementById(navNodes.id.array[scroll.index-1]).style.background='rgba(255, 20, 0, 0.5)',preferences.auto_scroll==!1&&scroll.index--)}function EventHandler(a){var e,d,b,f,c;if(a.type=='resize'){e=document.querySelectorAll('.container100'),d=document.getElementById('links');for(b=0;b<e.length;b++)scroll.node.y[b]=Sum(e,0,b);scroll.node.y[1]<=400?d.style.display='none':d.getAttribute('style')!=null&&d.removeAttribute('style')}else if(a.type=='scroll'&&a.target==document)scroll.state==scroll_state.enabled&&preferences.auto_scroll==!0&&(scroll.trigger=scroll_trigger.scroll,ScrollToNextNode()),scroll.trigger!=scroll_trigger.click&&CurrentNode();else if(a.type=='click'){if(a.target.id=='auto-inner'||a.target.id=='auto-outer'||a.target.id=='options-icons')f=function(){return localStorage.getItem('auto scroll')=='true'?preferences.auto_scroll=!0:preferences.auto_scroll=!1,!0}(),f&&(preferences.auto_scroll?(scroll.state=scroll_state.enabled,scroll.prevScrollY=window.scrollY):scroll.state=scroll_state.disabled);else if(scroll.state!=scroll_state.scrolling&&a.target.id in navNodes.id){scroll.currentScrollY=document.documentElement.scrollTop,c=0;for(b=0;b<navNodes.id.array.length;b++)if(a.target.id==navNodes.id.array[b]){c=b-scroll.index;break}c<0?(document.getElementById(navNodes.id.array[scroll.index]).style.background='rgba(255, 0, 100, 0.5)',document.getElementById(navNodes.id.array[scroll.index+c]).style.background='rgba(255, 20, 0, 0.5)',scroll.trigger=scroll_trigger.click,scroll.state=scroll_state.enabled,Scrollup(c)):c>0&&(document.getElementById(navNodes.id.array[scroll.index]).style.background='rgba(255, 0, 100, 0.5)',document.getElementById(navNodes.id.array[scroll.index+c]).style.background='rgba(255, 20, 0, 0.5)',scroll.trigger=scroll_trigger.click,scroll.state=scroll_state.enabled,Scrolldown(c))}}else a.type=='focusin'&&a.target.tagName!='BUTTON'?(scroll.state=scroll_state.disabled,scroll.trigger=scroll_trigger.none):a.type=='focusout'&&a.target.tagName!='BUTTON'&&preferences.auto_scroll&&(scroll.state=scroll_state.enabled)}export function AutoScroll(){setTimeout(function(){SetCurrentIndex(),CurrentNode(),window.addEventListener('scroll',EventHandler,!1),window.addEventListener('resize',EventHandler,!1)},100)}export function Listen(a,i=!1){var g,h,e,b,f,d,c;if(a==null){g=[],h=0,e=-1;for(b=0;b<scroll.node.length;b++)if(f=scroll.node[b].classList,f!=void 0)for(d=0;d<f.length;d++)f[d]=='container100'&&(e==-1&&(e=b),g.push(Sum(scroll.node,e,b)),h++);scroll.node.y=g}else if(i==!0){for(c=0;c<a.children.length;c++)navNodes.id[a.children[c].id]=a.children[c].id;navNodes.id.array=Object.keys(navNodes.id),a.addEventListener('click',EventHandler,!1)}else a.tagName=='FORM'?(a.addEventListener('focusin',EventHandler,!1),a.addEventListener('focusout',EventHandler,!1)):a.addEventListener('click',EventHandler,!1)}
