var arrowLeft=document.querySelector('.arrow-left'),canvasWidth,canvasHeight,imageWidth,imageHeight,ctx,arrowRightHoverAnimation,arrowRight=document.querySelector('.arrow-right'),sliderImages=[],imageIndex=0,sliding=!1,slider=document.querySelector('.slider'),discordDescriptions=document.querySelectorAll('.discord'),fadeDescriptionAnimations=[],arrowsVisible=!1,arrowLeftHoverAnimation=arrowLeft.animate([{opacity:1}],{fill:'forwards',easing:'ease-in-out',duration:300});arrowLeftHoverAnimation.pause(),arrowRightHoverAnimation=arrowRight.animate([{opacity:1}],{fill:'forwards',easing:'ease-in-out',duration:300}),arrowRightHoverAnimation.pause();function SliderArrows(){arrowsVisible?(arrowsVisible=!1,arrowLeftHoverAnimation.playbackRate=-1,arrowRightHoverAnimation.playbackRate=-1,arrowLeftHoverAnimation.play(),arrowRightHoverAnimation.play()):(arrowsVisible=!0,arrowLeftHoverAnimation.playbackRate=1,arrowRightHoverAnimation.playbackRate=1,arrowLeftHoverAnimation.play(),arrowRightHoverAnimation.play())}function Lerp(t,n,e){return(1-e)*t+n*e}function Slide(i){var e,t,n,s=0,o=0;i.target.className=='slide-right'||i.target.className=='arrow-right'?(n=1):(n=-1),e=((imageIndex+n)%sliderImages.length+sliderImages.length)%sliderImages.length,t=(imageIndex%sliderImages.length+sliderImages.length)%sliderImages.length,fadeDescriptionAnimations[t].playbackRate=1,fadeDescriptionAnimations[t].play(),fadeDescriptionAnimations[t].finished.then(function(){discordDescriptions[t].classList.add('hidden'),fadeDescriptionAnimations[e].playbackRate=-1,fadeDescriptionAnimations[e].play(),discordDescriptions[e].classList.remove('hidden')});function a(){s<=1.05?(sliding=!0,ctx.save(),ctx.clearRect(0,0,imageWidth,imageHeight),o=Lerp(0,imageWidth,s),n==1?(ctx.translate(-o,0),ctx.drawImage(sliderImages[e],imageWidth,0,imageWidth,imageHeight)):(ctx.translate(o,0),ctx.drawImage(sliderImages[e],-imageWidth,0,imageWidth,imageHeight)),ctx.drawImage(sliderImages[t],0,0,imageWidth,imageHeight),s+=.05,ctx.restore(),requestAnimationFrame(a)):(imageIndex+=n,sliding=!1)}sliding||a()}function SetImage(e,t=!1){e.onload=function(){t&&(ctx.drawImage(e,0,0,e.width,e.height),imageWidth=sliderImages[0].width,imageHeight=sliderImages[0].height)}}export function Slider(n,t){var e,t=document.getElementById(t);canvasWidth=t.width,canvasHeight=t.height,ctx=t.getContext('2d');for(e=0;e<n.length;e++)sliderImages.push(new Image(canvasWidth,canvasHeight)),sliderImages[e].crossOrigin='anonymous',sliderImages[e].referrerPolicy='no-referrer',sliderImages[e].src=document.location+'assets/'+n[e],e==0?SetImage(sliderImages[e],!0):SetImage(sliderImages[e],!1);for(e=0;e<discordDescriptions.length;e++)fadeDescriptionAnimations.push(discordDescriptions[e].animate([{opacity:0}],{duration:300,fill:'forwards'})),fadeDescriptionAnimations[e].pause();slider.addEventListener('mouseenter',SliderArrows,!1),slider.addEventListener('mouseleave',SliderArrows,!1),arrowLeft.addEventListener('click',Slide,!1),arrowRight.addEventListener('click',Slide,!1)}
