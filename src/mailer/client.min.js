import{ConfirmEmailAnimation}from'../js/modules/animate.min.js';function Message(b){var a=document.querySelectorAll('.email-confirmation-text');b.data[0]!="0"?(a[0].innerText='Your message has been send.',a[1].innerText="Check your inbox or spam folder for a confirmation mail, if you've not receiven any then try again later or try an other email service",ConfirmEmailAnimation()):(a[0].innerText=b.data.slice(1),a[1].innerText="",ConfirmEmailAnimation())}function Connected(a){}function EmailSubmit(){var c=document.getElementById('form-name').value,d=document.getElementById('form-email').value,e=document.getElementById('form-subject').value,f=document.getElementById('form-message').value,a=document.querySelectorAll('.email-confirmation-text'),b=Date.now()-startTime,g;ws.readyState!=3?b>3e4?(ws.send([c,d,e,f]),startTime=Date.now()):(g=Math.ceil((3e4-b)/1e3),a[0].innerText="Blimey, slow down!",a[1].innerText="Please wait "+g+" more seconds before sending your email.",ConfirmEmailAnimation()):(a[0].innerText="Oops, mail server is down.",a[1].innerText="Try again later or contact me manually via the email icon.",ConfirmEmailAnimation())}const ws=new WebSocket('ws://127.0.0.1:9999');ws.onmessage=Message,ws.onopen=Connected;var startTime=0;document.getElementById('submit').addEventListener('click',EmailSubmit,!1)
